<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Assistant VMC Double Flux</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
    }
    h2 {
      color: #004B87;
    }
    .tabs button {
      margin-right: 10px;
      padding: 8px 12px;
      border: 1px solid #004B87;
      border-radius: 5px;
      cursor: pointer;
    }
    .tabs button.active {
      background-color: #004B87;
      color: white;
    }
    .question-buttons {
      margin-top: 15px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }
    .question-buttons button {
      padding: 6px 10px;
      border-radius: 5px;
      border: 1px solid #aaa;
      cursor: pointer;
    }
    #response {
      margin-top: 20px;
      background-color: #f5f5f5;
      padding: 15px;
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <h2>Assistant Ventilation Double Flux</h2>

  <div class="tabs">
    <button class="tab active" data-tab="vmc">VMC Double Flux</button>
    <button class="tab" data-tab="general">Questions Générales</button>
    <button class="tab" data-tab="client">Segment Client</button>
  </div>

  <div class="question-buttons" id="buttons"></div>

  <input type="text" id="questionInput" placeholder="Pose ta question..." style="width:100%; padding:8px; margin-top:15px;">
  <button onclick="handleAsk()" style="padding:8px 12px; margin-top:10px; background:#004B87; color:white; border:none; border-radius:5px;">Poser la question</button>

  <div id="response"></div>

  <script>
    const buttonsByTab = {
      vmc: [
        { label: "💨 VMC Double Flux", value: "vmc double flux" },
        { label: "🎥 Vidéo Duco", value: "vidéo duco" },
        { label: "📘 Manuel d'installation", value: "manuel duco" },
        { label: "📄 Fiche technique DucoBox", value: "fiche technique" },
        { label: "🧩 Accessoires compatibles", value: "accessoires" },
        { label: "📑 Brochure commerciale", value: "brochure" }
      ],
      general: [
        { label: "💰 Comment réduire les coûts ?", value: "réduction coûts" },
        { label: "🛠️ Comment installer une ventilation ?", value: "installer ventilation" },
        { label: "🔧 Cas Maintenance", value: "cas maintenance" }
      ],
      client: [
        { label: "🏢 Cas Promoteur", value: "cas promoteur" },
        { label: "📐 Cas Bureau d'études", value: "cas bureau d'études" },
        { label: "🛠️ Cas Installateur", value: "cas installateur" },
        { label: "🏠 Cas Client Final", value: "cas client final" }
      ]
    };

    const responseByQuestion = {
      "vmc double flux": "<p>Choisis entre l'application <strong>Neuf</strong> ou <strong>Rénovation</strong>.</p>",
      "vidéo duco": "<p>🎥 <a href='https://www.youtube.com/watch?v=7Is17RT9G30' target='_blank'>Voir la vidéo Duco</a></p>",
      "manuel duco": "<p>📘 <a href='https://easyspec.daikin.fr/Easyspec/Ventilation/Documentations/A_D325FR/ManInst_A_D325FR.pdf' target='_blank'>Manuel D325FR</a><br><a href='https://easyspec.daikin.fr/Easyspec/Ventilation/Documentations/B_D325/ManInst_B_D325.pdf' target='_blank'>Manuel D325</a></p>",
      "fiche technique": "<p>📄 <a href='https://easyspec.daikin.fr/Easyspec/Ventilation/Documentations/B_D325/FicheTech_B_D325.pdf' target='_blank'>Fiche D325</a><br><a href='https://easyspec.daikin.fr/Easyspec/Ventilation/Documentations/A_D325FR/FicheTech_A_D325FR.pdf' target='_blank'>Fiche D325FR</a></p>",
      "accessoires": "<p>🧩 DucoFlex, 🚿 Siphon, 🔇 Silencieux...<br><a href='https://easyspec.daikin.fr/Easyspec/Ventilation/Documentations/A_D325FR/Liste%20accessoires/Acc_A_D325FR.pdf' target='_blank'>Voir la liste complète</a></p>",
      "brochure": "<p>📑 <a href='https://easyspec.daikin.fr/Easyspec/Ventilation/Documentations/A_D325FR/Broc_A_D325FR.pdf' target='_blank'>Télécharger la brochure</a></p>",
      "réduction coûts": "<ul><li>🔥 Économies via récupération de chaleur</li><li>💧 Moins de charges énergétiques</li><li>🛠️ Moins de maintenance</li></ul>",
      "installer ventilation": "<ul><li>📋 Étude du logement</li><li>📐 Conception réseau</li><li>✅ Mise en service</li></ul>",
      "cas maintenance": "<ul><li>🧹 Remplacement filtres</li><li>📡 Application DUCO pour maintenance</li></ul>",
      "cas promoteur": "<ul><li>🏗️ Réduction des charges</li><li>📈 Atout vente/location</li></ul>",
      "cas bureau d'études": "<ul><li>📊 BIM, Fiches techniques</li><li>✅ Conformité RE2020</li></ul>",
      "cas installateur": "<ul><li>🔧 Installation rapide</li><li>📞 Assistance technique</li></ul>",
      "cas client final": "<ul><li>😌 Confort et qualité d’air</li><li>💶 Facture réduite</li></ul>"
    };

    const renderButtons = (tab) => {
      const container = document.getElementById("buttons");
      container.innerHTML = "";
      buttonsByTab[tab].forEach((btn) => {
        const b = document.createElement("button");
        b.textContent = btn.label;
        b.onclick = () => handlePredefinedClick(btn.value);
        container.appendChild(b);
      });
    };

    const handlePredefinedClick = (val) => {
      document.getElementById("questionInput").value = val;
      handleAsk();
    };

    const handleAsk = () => {
      const input = document.getElementById("questionInput").value.trim().toLowerCase();
      const res = responseByQuestion[input] || "❓ Question inconnue.";
      document.getElementById("response").innerHTML = res;
    };

    document.querySelectorAll(".tab").forEach(btn => {
      btn.addEventListener("click", () => {
        document.querySelectorAll(".tab").forEach(b => b.classList.remove("active"));
        btn.classList.add("active");
        renderButtons(btn.dataset.tab);
        document.getElementById("response").innerHTML = "";
      });
    });

    renderButtons("vmc");
  </script>
</body>
</html>
